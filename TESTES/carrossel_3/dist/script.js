(function() {
  // Carousel variables
  var carouselContent, carouselIndex, carouselLength, firstClone, firstItem, isAnimating, itemWidth, lastClone, lastItem;

  carouselContent = $(".carousel__content");

  carouselIndex = 0;

  carouselLength = carouselContent.children().length;

  isAnimating = false;

  itemWidth = 100 / carouselLength;

  firstItem = $(carouselContent.children()[0]);

  lastItem = $(carouselContent.children()[carouselLength - 1]);

  firstClone = null;

  lastClone = null;

  // Apply the 3D transformations to avoid a white blink when you slide for the first time
  carouselContent.css("width", carouselLength * 100 + "%");

  carouselContent.transition({
    x: `${carouselIndex * -itemWidth}%`
  }, 0);

  $.each(carouselContent.children(), function() {
    return $(this).css("width", itemWidth + "%");
  });

  
  // Click on the "Previous" button
  $(".nav--left").on("click", function() {
    if (isAnimating) {
      return;
    }
    isAnimating = true;
    carouselIndex--;
    if (carouselIndex === -1) {
      lastItem.prependTo(carouselContent);
      carouselContent.transition({
        x: `${(carouselIndex + 2) * -itemWidth}%`
      }, 0);
      return carouselContent.transition({
        x: `${(carouselIndex + 1) * -itemWidth}%`
      }, 1000, "easeInOutExpo", function() {
        carouselIndex = carouselLength - 1;
        lastItem.appendTo(carouselContent);
        carouselContent.transition({
          x: `${carouselIndex * -itemWidth}%`
        }, 0);
        return isAnimating = false;
      });
    } else {
      return carouselContent.transition({
        x: `${carouselIndex * -itemWidth}%`
      }, 1000, "easeInOutExpo", function() {
        return isAnimating = false;
      });
    }
  });

  // Click on the "Next" button
  $(".nav--right").on("click", function() {
    if (isAnimating) {
      return;
    }
    isAnimating = true;
    carouselIndex++;
    return carouselContent.transition({
      x: `${carouselIndex * -itemWidth}%`
    }, 1000, "easeInOutExpo", function() {
      isAnimating = false;
      if (firstClone) {
        carouselIndex = 0;
        carouselContent.transition({
          x: `${carouselIndex * -itemWidth}%`
        }, 0);
        firstClone.remove();
        firstClone = null;
        carouselLength = carouselContent.children().length;
        itemWidth = 100 / carouselLength;
        carouselContent.css("width", carouselLength * 100 + "%");
        $.each(carouselContent.children(), function() {
          return $(this).css("width", itemWidth + "%");
        });
        return;
      }
      if (carouselIndex === carouselLength - 1) {
        carouselLength++;
        itemWidth = 100 / carouselLength;
        firstClone = firstItem.clone();
        firstClone.addClass("clone");
        firstClone.appendTo(carouselContent);
        carouselContent.css("width", carouselLength * 100 + "%");
        $.each(carouselContent.children(), function() {
          return $(this).css("width", itemWidth + "%");
        });
        return carouselContent.transition({
          x: `${carouselIndex * -itemWidth}%`
        }, 0);
      }
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQW9CO0VBQUE7QUFBQSxNQUFBLGVBQUEsRUFBQSxhQUFBLEVBQUEsY0FBQSxFQUFBLFVBQUEsRUFBQSxTQUFBLEVBQUEsV0FBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUE7O0VBQ3BCLGVBQUEsR0FBa0IsQ0FBQSxDQUFFLG9CQUFGOztFQUNsQixhQUFBLEdBQWdCOztFQUNoQixjQUFBLEdBQWlCLGVBQWUsQ0FBQyxRQUFoQixDQUFBLENBQTBCLENBQUM7O0VBRTVDLFdBQUEsR0FBYzs7RUFDZCxTQUFBLEdBQVksR0FBQSxHQUFNOztFQUNsQixTQUFBLEdBQVksQ0FBQSxDQUFFLGVBQWUsQ0FBQyxRQUFoQixDQUFBLENBQTBCLENBQUMsQ0FBRCxDQUE1Qjs7RUFDWixRQUFBLEdBQVcsQ0FBQSxDQUFFLGVBQWUsQ0FBQyxRQUFoQixDQUFBLENBQTBCLENBQUMsY0FBQSxHQUFpQixDQUFsQixDQUE1Qjs7RUFDWCxVQUFBLEdBQWE7O0VBQ2IsU0FBQSxHQUFZLEtBVlE7OztFQWFwQixlQUFlLENBQUMsR0FBaEIsQ0FBb0IsT0FBcEIsRUFBNkIsY0FBQSxHQUFpQixHQUFqQixHQUF1QixHQUFwRDs7RUFDQSxlQUFlLENBQUMsVUFBaEIsQ0FBMkI7SUFBRSxDQUFBLEVBQUUsQ0FBQSxDQUFBLENBQUcsYUFBQSxHQUFnQixDQUFDLFNBQXBCLENBQUEsQ0FBQTtFQUFKLENBQTNCLEVBQW1FLENBQW5FOztFQUVBLENBQUMsQ0FBQyxJQUFGLENBQU8sZUFBZSxDQUFDLFFBQWhCLENBQUEsQ0FBUCxFQUFtQyxRQUFBLENBQUEsQ0FBQTtXQUFHLENBQUEsQ0FBRSxJQUFGLENBQUksQ0FBQyxHQUFMLENBQVMsT0FBVCxFQUFrQixTQUFBLEdBQVksR0FBOUI7RUFBSCxDQUFuQyxFQWhCb0I7Ozs7RUFtQnBCLENBQUEsQ0FBRSxZQUFGLENBQWUsQ0FBQyxF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QUFYLENBQW9CLGVBQXBCO1FBRUEsZUFBZSxDQUFDLEdBQWhCLENBQW9CLE9BQXBCLEVBQTZCLGNBQUEsR0FBaUIsR0FBakIsR0FBdUIsR0FBcEQ7UUFDQSxDQUFDLENBQUMsSUFBRixDQUFPLGVBQWUsQ0FBQyxRQUFoQixDQUFBLENBQVAsRUFBbUMsUUFBQSxDQUFBLENBQUE7aUJBQUcsQ0FBQSxDQUFFLElBQUYsQ0FBSSxDQUFDLEdBQUwsQ0FBUyxPQUFULEVBQWtCLFNBQUEsR0FBWSxHQUE5QjtRQUFILENBQW5DO2VBQ0EsZUFBZSxDQUFDLFVBQWhCLENBQTJCO1VBQUUsQ0FBQSxFQUFFLENBQUEsQ0FBQSxDQUFJLGFBQUQsR0FBa0IsQ0FBQyxTQUF0QixDQUFBLENBQUE7UUFBSixDQUEzQixFQUFxRSxDQUFyRSxFQVZGOztJQWR3RixDQUExRjtFQU4yQixDQUE3QjtBQXBDb0IiLCJzb3VyY2VzQ29udGVudCI6WyIjIENhcm91c2VsIHZhcmlhYmxlc1xuY2Fyb3VzZWxDb250ZW50ID0gJChcIi5jYXJvdXNlbF9fY29udGVudFwiKVxuY2Fyb3VzZWxJbmRleCA9IDBcbmNhcm91c2VsTGVuZ3RoID0gY2Fyb3VzZWxDb250ZW50LmNoaWxkcmVuKCkubGVuZ3RoXG5cbmlzQW5pbWF0aW5nID0gZmFsc2Vcbml0ZW1XaWR0aCA9IDEwMCAvIGNhcm91c2VsTGVuZ3RoXG5maXJzdEl0ZW0gPSAkKGNhcm91c2VsQ29udGVudC5jaGlsZHJlbigpWzBdKVxubGFzdEl0ZW0gPSAkKGNhcm91c2VsQ29udGVudC5jaGlsZHJlbigpW2Nhcm91c2VsTGVuZ3RoIC0gMV0pXG5maXJzdENsb25lID0gbnVsbFxubGFzdENsb25lID0gbnVsbFxuXG4jIEFwcGx5IHRoZSAzRCB0cmFuc2Zvcm1hdGlvbnMgdG8gYXZvaWQgYSB3aGl0ZSBibGluayB3aGVuIHlvdSBzbGlkZSBmb3IgdGhlIGZpcnN0IHRpbWVcbmNhcm91c2VsQ29udGVudC5jc3MgXCJ3aWR0aFwiLCBjYXJvdXNlbExlbmd0aCAqIDEwMCArIFwiJVwiXG5jYXJvdXNlbENvbnRlbnQudHJhbnNpdGlvbiB7IHg6XCIje2Nhcm91c2VsSW5kZXggKiAtaXRlbVdpZHRofSVcIiB9LCAwXG5cbiQuZWFjaCBjYXJvdXNlbENvbnRlbnQuY2hpbGRyZW4oKSwgLT4gJChAKS5jc3MgXCJ3aWR0aFwiLCBpdGVtV2lkdGggKyBcIiVcIlxuICBcbiMgQ2xpY2sgb24gdGhlIFwiUHJldmlvdXNcIiBidXR0b25cbiQoXCIubmF2LS1sZWZ0XCIpLm9uIFwiY2xpY2tcIiwgLT5cbiAgcmV0dXJuIGlmIGlzQW5pbWF0aW5nXG4gIGlzQW5pbWF0aW5nID0gdHJ1ZVxuICAgIFxuICBjYXJvdXNlbEluZGV4LS1cbiAgaWYgY2Fyb3VzZWxJbmRleCA9PSAtMVxuICAgIGxhc3RJdGVtLnByZXBlbmRUbyBjYXJvdXNlbENvbnRlbnRcbiAgICBjYXJvdXNlbENvbnRlbnQudHJhbnNpdGlvbiB7IHg6XCIjeyhjYXJvdXNlbEluZGV4ICsgMikgKiAtaXRlbVdpZHRofSVcIiB9LCAwXG4gICAgY2Fyb3VzZWxDb250ZW50LnRyYW5zaXRpb24geyB4OlwiI3soY2Fyb3VzZWxJbmRleCArIDEpICogLWl0ZW1XaWR0aH0lXCIgfSwgMTAwMCwgXCJlYXNlSW5PdXRFeHBvXCIsIC0+XG4gICAgICBjYXJvdXNlbEluZGV4ID0gY2Fyb3VzZWxMZW5ndGggLSAxXG4gICAgICBsYXN0SXRlbS5hcHBlbmRUbyBjYXJvdXNlbENvbnRlbnRcbiAgICAgIGNhcm91c2VsQ29udGVudC50cmFuc2l0aW9uIHsgeDpcIiN7KGNhcm91c2VsSW5kZXgpICogLWl0ZW1XaWR0aH0lXCIgfSwgMFxuICAgICAgaXNBbmltYXRpbmcgPSBmYWxzZVxuICBlbHNlXG4gICAgY2Fyb3VzZWxDb250ZW50LnRyYW5zaXRpb24geyB4OlwiI3tjYXJvdXNlbEluZGV4ICogLWl0ZW1XaWR0aH0lXCIgfSwgMTAwMCwgXCJlYXNlSW5PdXRFeHBvXCIsIC0+IGlzQW5pbWF0aW5nID0gZmFsc2VcblxuIyBDbGljayBvbiB0aGUgXCJOZXh0XCIgYnV0dG9uXG4kKFwiLm5hdi0tcmlnaHRcIikub24gXCJjbGlja1wiLCAtPlxuICByZXR1cm4gaWYgaXNBbmltYXRpbmdcbiAgaXNBbmltYXRpbmcgPSB0cnVlXG4gICAgXG4gIGNhcm91c2VsSW5kZXgrK1xuICAgIFxuICBjYXJvdXNlbENvbnRlbnQudHJhbnNpdGlvbiB7IHg6XCIje2Nhcm91c2VsSW5kZXggKiAtaXRlbVdpZHRofSVcIiB9LCAxMDAwLCBcImVhc2VJbk91dEV4cG9cIiwgLT5cbiAgICBpc0FuaW1hdGluZyA9IGZhbHNlXG4gICAgaWYgZmlyc3RDbG9uZVxuICAgICAgY2Fyb3VzZWxJbmRleCA9IDBcbiAgICAgIGNhcm91c2VsQ29udGVudC50cmFuc2l0aW9uIHsgeDpcIiN7KGNhcm91c2VsSW5kZXgpICogLWl0ZW1XaWR0aH0lXCIgfSwgMFxuICAgICAgZmlyc3RDbG9uZS5yZW1vdmUoKVxuICAgICAgZmlyc3RDbG9uZSA9IG51bGxcbiAgICAgIFxuICAgICAgY2Fyb3VzZWxMZW5ndGggPSBjYXJvdXNlbENvbnRlbnQuY2hpbGRyZW4oKS5sZW5ndGhcbiAgICAgIGl0ZW1XaWR0aCA9IDEwMCAvIGNhcm91c2VsTGVuZ3RoXG4gICAgICBjYXJvdXNlbENvbnRlbnQuY3NzIFwid2lkdGhcIiwgY2Fyb3VzZWxMZW5ndGggKiAxMDAgKyBcIiVcIlxuICAgICAgJC5lYWNoIGNhcm91c2VsQ29udGVudC5jaGlsZHJlbigpLCAtPiAkKEApLmNzcyBcIndpZHRoXCIsIGl0ZW1XaWR0aCArIFwiJVwiXG4gICAgICByZXR1cm5cbiAgICAgICAgXG4gICAgaWYgY2Fyb3VzZWxJbmRleCA9PSBjYXJvdXNlbExlbmd0aCAtIDFcbiAgICAgIGNhcm91c2VsTGVuZ3RoKytcbiAgICAgIGl0ZW1XaWR0aCA9IDEwMCAvIGNhcm91c2VsTGVuZ3RoXG4gICAgICBcbiAgICAgIGZpcnN0Q2xvbmUgPSBmaXJzdEl0ZW0uY2xvbmUoKVxuICAgICAgZmlyc3RDbG9uZS5hZGRDbGFzcyBcImNsb25lXCJcbiAgICAgIGZpcnN0Q2xvbmUuYXBwZW5kVG8gY2Fyb3VzZWxDb250ZW50XG4gICAgICAgXG4gICAgICBjYXJvdXNlbENvbnRlbnQuY3NzIFwid2lkdGhcIiwgY2Fyb3VzZWxMZW5ndGggKiAxMDAgKyBcIiVcIlxuICAgICAgJC5lYWNoIGNhcm91c2VsQ29udGVudC5jaGlsZHJlbigpLCAtPiAkKEApLmNzcyBcIndpZHRoXCIsIGl0ZW1XaWR0aCArIFwiJVwiXG4gICAgICBjYXJvdXNlbENvbnRlbnQudHJhbnNpdGlvbiB7IHg6XCIjeyhjYXJvdXNlbEluZGV4KSAqIC1pdGVtV2lkdGh9JVwiIH0sIDAiXX0=
//# sourceURL=coffeescript